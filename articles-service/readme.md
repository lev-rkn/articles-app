# Articles-service

## Навигация

1. [Описание](#описание)
1. [Архитектура](#архитектура)
1. [API](#api)
1. [Тесты](#тесты)

## Описание

Является основым сервисом в этой системе, а также прослойкой между клиентом и остальной системой.
Также данный сервис позволяет создавать статьи и сообщения к ним, но только если вы аутентифицированы. Просматривать уже созданные статьи и комментарии вы можете и без аутентификации.

## Архитектура

1. /cmd - тут находится точка входа в приложение.
2. /config - тут находятся статические файлы конфигурации.
3. /docs - тут лежит документация swagger.
4. /logger - тут лежат настроки логгера, используемого в проекте (slog).
5. /migrations - тут лежат миграции базы данных.
6. /metrics - тут лежит инициализация метрики prometheus.
7. /internal - тут лежит внутренний код сервиса, который не может быть экспортирован в сторонние проекты.
    - /app - тут лежит инициализация всех модулей приложения и запуск сервера.
    - /config - тут лежит код конфиг-менеджера(viper), он подтягивает статические файлы конфигов из /config (которая находится в корне проекта).
    - /lib - тут лежат различные вспомогательные утилиты и переменные.
    - /controllers - тут лежит инициализация роутера сервиса, а также в этой папке представлен транспортный слой сервера. Тут происходит первичная обработка данных при поступлении запроса по http API.
    - /service - тут лежит внутренняя логика сервиса, которая не связана непосредственно ни с обработкой сетевых запросов, ни с взаимодействием с хранилищами данных.
    - /repository - тут лежит слой взаимодействия с базой данных.
    - /models - тут лежат модели различных сущностей в виде структур (в данном случае только сущность объявления).
8. /api - тут лежат файлы для взаимодействия с внешними сервисами, в том числе proto файлы и автоматически сгенерированные go файлы.

## API

http адрес сервера по умолчанию: localhost:8080

Чтобы посмотреть документацию Swagger, после запуска сервера перейдите по указанному адресу:
<http://localhost:8080/swagger/>

## Тесты

Тесты написаны для всего слоя сервисов и контроллеров.
Чтобы посмотреть покрытие проекта тестами, воспользуйтесь командой:

```bash
make cover
```
